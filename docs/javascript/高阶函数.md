# 高阶函数

- 高阶函数是对其他函数进行操作的函数，可以将它们作为参数或返回他们
- 简单来说，高阶函数就是一个函数，他接受函数作为参数或将函数作为输出返回

## map

:::tip
会创建一个新的数组
:::
接受一个数组，返回一个新数组，其中每个值为原来的两倍

```js
const arr = [1, 2, 3, 4, 5]
const arr2 = arr1.map(function (item, index, arr) {
  return item * 2
})
```

## reduce

:::tip
会创建一个新的数组
:::
对一个数组进行求和

```js
const arr = [1, 2, 3, 4, 5]
const sum = arr.reduce((prev, cur) => {
  return prev + cur
}, 0)
console.log(sum) // 15
```

对数组去重

```js
const arr = [1, 23, 4, 4, 5, 6, 7]
const newarr = arr.reduce((prev, cur) => {
  prev.indexOf(cur) !== -1 && prev.push(cur)
  return prev
}, [])
console.log(newarr) // [1,23,4,5,6,7]
```

## filter

:::tip
会创建一个新的数组
:::

把每个年龄大于 21 的组成一个新的数组返回

```js
const presons = [
  {
    name: 'peter',
    age: 21
  },
  {
    name: 'mark',
    age: 28
  },
  {
    name: 'jane',
    age: 19
  },
  {
    name: 'tony',
    age: 31
  }
]
const newAge = presons.filter(item => item.age > 21)
```

## flat

拉平数组
:::tip
会创建一个新的数组
:::

```js
const arr = [1, 2, 3, [5, 6, [7, 8]]]
const arr2 = arr.flat() // 默认拉平一层 [1, 2, 3, 5, 6, [7, 8]]
const arr3 = arr.flat(Infinity) // 全部拉平 [1, 2, 3, 5, 6, 7, 8]
```